
> sap-ai-sdk@0.0.0 test:unit /Users/I519840/Code/ai-core/ai-sdk-js
> NODE_OPTIONS=--experimental-vm-modules pnpm -r -F=./packages/** test

Scope: 3 of 7 workspace projects
packages/ai-core test$ NODE_OPTIONS=--experimental-vm-modules jest
packages/core test$ NODE_OPTIONS=--experimental-vm-modules jest
packages/ai-core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/ai-core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/ai-core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/ai-core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/ai-core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/ai-core test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/core test: (node:78069) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/core test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/ai-core test: (node:78070) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/ai-core test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/ai-core test: (node:78071) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/ai-core test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/ai-core test: (node:78068) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/ai-core test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/ai-core test: (node:78067) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/ai-core test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/ai-core test: (node:78065) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/ai-core test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/core test: (node:78066) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/core test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/core test: PASS core src/http-client.test.ts
packages/ai-core test: PASS ai-core src/client/AI_CORE_API/scenario-api.test.ts
packages/core test: PASS core src/context.test.ts
packages/core test:   â— Console
packages/core test:     console.log
packages/core test:       [2024-08-12T09:05:11.266Z] [33mWARN[39m     (environment-accessor): Could not find service binding of type 'aicore'. This might cause errors in other parts of the application.
packages/core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/core test:     console.log
packages/core test:       [2024-08-12T09:05:11.282Z] [32mINFO[39m     (context): Found a service key in environment variable "aicore". Using a service key is recommended for local testing only. Bind the AI Core service to the application for productive usage.
packages/core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/core test:     console.log
packages/core test:       [2024-08-12T09:05:11.282Z] [33mWARN[39m     (client-credentials-token-cache): Cannot create cache key for client credentials token cache. The given tenant ID is undefined.
packages/core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/core test: Test Suites: 2 passed, 2 total
packages/core test: Tests:       4 passed, 4 total
packages/core test: Snapshots:   1 passed, 1 total
packages/core test: Time:        3.683 s
packages/core test: Ran all test suites.
packages/ai-core test: PASS ai-core src/client/AI_CORE_API/artifact-api.test.ts
packages/ai-core test:   â— Console
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.335Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/artifacts/.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.349Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/artifacts.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test: PASS ai-core src/client/AI_CORE_API/configuration-api.test.ts
packages/ai-core test:   â— Console
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.335Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/configurations/.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.345Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/configurations.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test: PASS ai-core src/client/AI_CORE_API/execution-api.test.ts
packages/ai-core test:   â— Console
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.347Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/executions/.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.359Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/executions.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/core test: Done
packages/ai-core test: PASS ai-core src/client/AI_CORE_API/deployment-api.test.ts
packages/ai-core test:   â— Console
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.350Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/deployments/.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.361Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/deployments.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.367Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/deployments/4e5f6g7h/.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.369Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/deployments/4e5f6g7h.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.375Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/deployments/4e5f6g7h/.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test:     console.log
packages/ai-core test:       [2024-08-12T09:05:11.376Z] [33mWARN[39m     (csrf-middleware): Failed to get CSRF token from  URL: /lm/deployments/4e5f6g7h.
packages/ai-core test:       at Console.log (../../node_modules/.pnpm/winston@3.13.1/node_modules/winston/lib/winston/transports/console.js:79:23)
packages/ai-core test: Test Suites: 5 passed, 5 total
packages/ai-core test: Tests:       11 passed, 11 total
packages/ai-core test: Snapshots:   0 total
packages/ai-core test: Time:        3.791 s
packages/ai-core test: Ran all test suites.
packages/ai-core test: Done
packages/gen-ai-hub test$ NODE_OPTIONS=--experimental-vm-modules jest
packages/gen-ai-hub test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/gen-ai-hub test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/gen-ai-hub test: ts-jest[versions] (WARN) Version 30.0.0-alpha.6 of jest installed has not been tested with ts-jest. If you're experiencing issues, consider using a supported version (>=29.0.0 <30.0.0-0). Please do not report issues in ts-jest if you are using unsupported versions.
packages/gen-ai-hub test: FAIL gen-ai-hub src/orchestration/orchestration-client.test.ts
packages/gen-ai-hub test:   â— Test suite failed to run
packages/gen-ai-hub test:     SyntaxError: The requested module '@sap-ai-sdk/core' does not provide an export named 'executeRequest'
packages/gen-ai-hub test:       16 | }));
packages/gen-ai-hub test:       17 |
packages/gen-ai-hub test:     > 18 | const { GenAiHubClient, constructCompletionPostRequest } = await import(
packages/gen-ai-hub test:          |                                                            ^
packages/gen-ai-hub test:       19 |   './orchestration-client.js'
packages/gen-ai-hub test:       20 | );
packages/gen-ai-hub test:       21 | describe('GenAiHubClient', () => {
packages/gen-ai-hub test:       at Runtime.linkAndEvaluateModule (../../node_modules/.pnpm/jest-runtime@30.0.0-alpha.6/node_modules/jest-runtime/build/index.js:685:5)
packages/gen-ai-hub test:       at src/orchestration/orchestration-client.test.ts:18:60
packages/gen-ai-hub test: (node:78164) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/gen-ai-hub test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/gen-ai-hub test: FAIL gen-ai-hub src/client/openai/openai-client.test.ts
packages/gen-ai-hub test:   â— Test suite failed to run
packages/gen-ai-hub test:     SyntaxError: The requested module '@sap-ai-sdk/core' does not provide an export named 'executeRequest'
packages/gen-ai-hub test:       21 |   )
packages/gen-ai-hub test:       22 | }));
packages/gen-ai-hub test:     > 23 | const { OpenAiClient } = await import('./openai-client.js');
packages/gen-ai-hub test:          |                          ^
packages/gen-ai-hub test:       24 |
packages/gen-ai-hub test:       25 | describe('openai client', () => {
packages/gen-ai-hub test:       26 |   let destination: HttpDestination;
packages/gen-ai-hub test:       at Runtime.linkAndEvaluateModule (../../node_modules/.pnpm/jest-runtime@30.0.0-alpha.6/node_modules/jest-runtime/build/index.js:685:5)
packages/gen-ai-hub test:       at src/client/openai/openai-client.test.ts:23:26
packages/gen-ai-hub test: (node:78163) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
packages/gen-ai-hub test: (Use `node --trace-warnings ...` to show where the warning was created)
packages/gen-ai-hub test: Test Suites: 2 failed, 2 total
packages/gen-ai-hub test: Tests:       0 total
packages/gen-ai-hub test: Snapshots:   0 total
packages/gen-ai-hub test: Time:        2.143 s
packages/gen-ai-hub test: Ran all test suites.
packages/gen-ai-hub test: Failed
/Users/I519840/Code/ai-core/ai-sdk-js/packages/gen-ai-hub:
â€‰ERR_PNPM_RECURSIVE_RUN_FIRST_FAILâ€‰ @sap-ai-sdk/gen-ai-hub@0.0.0 test: `NODE_OPTIONS=--experimental-vm-modules jest`
Exit status 1
â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.
